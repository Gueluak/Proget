# **************************************************************************** #
#                                                                              #
#                                                         :::      ::::::::    #
#    Makefile                                           :+:      :+:    :+:    #
#                                                     +:+ +:+         +:+      #
#    By: hmarot <marvin@42.fr>                      +#+  +:+       +#+         #
#                                                 +#+#+#+#+#+   +#+            #
#    Created: 2015/12/04 13:19:25 by hmarot            #+#    #+#              #
#    Updated: 2016/10/09 21:31:14 by hmarot           ###   ########.fr        #
#                                                                              #
# **************************************************************************** #

SRC_NAME_FT =	ft_abs.c\
			ft_atoi.c\
			ft_isascii.c\
			ft_itoa.c\
			ft_itoa_octal.c\
			ft_itoa_hexa.c\
			ft_memalloc.c\
			ft_memcmp.c\
			ft_memmove.c\
			ft_memnchr.c\
			ft_memndup.c\
			ft_memset.c\
			ft_putendl_fd.c\
			ft_putstr_fd.c\
			ft_strlen.c\
			ft_toupper.c

SRC_NAME_PRINTF =	mini_lib.c\
				mini_lib_b.c\
				mini_lib_c.c\
				printf_arg.c\
				printf_conv.c\
				printf_conv_b.c\
				printf_conv_bonus.c\
				printf_conv_c.c\
				printf_conv_d.c\
				printf_flag.c\
				printf_flag_a.c\
				printf_init.c\
				printf_main.c\
				printf_modif.c\
				printf_pre_field.c

OBJ_NAME_FT =	ft_abs.o\
			ft_atoi.o\
			ft_isascii.o\
			ft_itoa.o\
			ft_itoa_octal.o\
			ft_itoa_hexa.o\
			ft_memalloc.o\
			ft_memcmp.o\
			ft_memmove.o\
			ft_memnchr.o\
			ft_memndup.o\
			ft_memset.o\
			ft_putendl_fd.o\
			ft_putstr_fd.o\
			ft_strlen.o\
			ft_toupper.o\
			writef.o

OBJ_NAME_PRINTF =	mini_lib.o\
				mini_lib_b.o\
				mini_lib_c.o\
				printf_arg.o\
				printf_conv.o\
				printf_conv_b.o\
				printf_conv_bonus.o\
				printf_conv_c.o\
				printf_conv_d.o\
				printf_flag.o\
				printf_flag_a.o\
				printf_init.o\
				printf_main.o\
				printf_modif.o\
				printf_pre_field.o

NAME_FT = libft.a
NAME_PRINTF = libprintf.a
NAME = libftprintf.a

PATH_FT = ft_src/
PATH_PRINTF = printf_src/

PATH_OBJ_FT = ft_obj/
PATH_OBJ_PRINTF = printf_obj/

SRC_FT = $(addprefix $(PATH_FT),$(SRC_NAME_FT))
SRC_PRINTF = $(addprefix $(PATH_PRINTF),$(SRC_NAME_PRINTF))

OBJ_FT = $(addprefix $(PATH_OBJ_FT),$(OBJ_NAME_FT))
OBJ_PRINTF = $(addprefix $(PATH_OBJ_PRINTF),$(OBJ_NAME_PRINTF))

only_lib: 
	@make fclean && make all && make clean

all:
	@gcc -Wall -Werror -Wextra -c $(SRC_PRINTF) $(SRC_FT) -I includes
	@mv $(OBJ_NAME_PRINTF) $(PATH_OBJ_PRINTF)
	@mv $(OBJ_NAME_FT) $(PATH_OBJ_FT)
	@ar rc $(NAME) $(OBJ_PRINTF) $(OBJ_FT)
	@echo "$(NAME) compiler"

printf:
	@gcc -Wall -Werror -Wextra -c $(SRC_PRINTF) -I includes
	@mv $(OBJ_NAME_PRINTF) $(PATH_OBJ_PRINTF)
	@ar rc $(NAME_PRINTF) $(OBJ_PRINTF)
	@echo "$(NAME_PRINTF) compiler"

libft:
	@gcc -Wall -Werror -Wextra -c $(SRC_FT) -I includes
	@mv $(OBJ_NAME_FT) $(PATH_OBJ_FT)
	@ar rc $(NAME_FT) $(OBJ_PFT)
	@echo "$(NAME_FT) compiler"

clean:
	@rm -f $(OBJ_FT) $(OBJ_PRINTF)

fclean: clean
	@rm -f $(NAME_FT) $(NAME_PRINTF) $(NAME)

re: fclean all
